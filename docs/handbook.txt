SampleSplit Developer Handbook – Optimization & Accuracy Requirements
SECTION 1 — AUDIO FETCH ACCURACY (GLOBAL FIX)
This section defines universal accuracy requirements. These fixes apply to every track, every playlist, every extraction—not just the three example songs.
PROBLEMS:
- System occasionally selects the wrong audio source while metadata is correct.
- Examples: Knxwledge “Learn,” Salomea “Do It All,” Joey Bada$$ “Hilary Swank.”
- Must ensure accuracy across ALL tracks, present and future.
SOLUTIONS REQUIRED:
1. Strict Audio Source Filtering
- Reject music videos, live performances, unofficial edits.
- Prioritize Topic/Official Audio/Album sources.
2. Duration Matching (Mandatory)
- Track must match official duration within ±2 seconds.
3. Artist + Title Pair Verification
- Fuzzy match must correctly confirm BOTH artist and title.
4. Stricter Fuzzy Thresholds
- Raise fuzzy score minimum.
- Apply penalties for mismatches.
5. Multi-Stage Verification
- Try multiple candidates until a match passes all checks.
6. Proactive Safeguards
- Reject tracks with MV skits/dialogue.
- Reject tracks with abnormal BPM or mismatched rhythmic profile.
SECTION 2 — BRANDING REQUIREMENTS (SGS / SGS2 / ICONOGRAPHY)
Branding includes: watermark (SGS/SGS2), stem icon, placement, size, opacity.
PROBLEMS:
- Branding missing on some channels.
- Main channel lacks SGS watermark.
- Stem icons inconsistently displayed.
SOLUTIONS REQUIRED:
1. Full Channel-WWide Branding Check
- Ensure watermark appears on ALL channels and ALL uploads.
2. SGS Main Channel Branding
- Reuse SGS2 asset.
- Remove '2' and replace with 'SGS'.
- Keep same opacity, margin, placement.
3. Stem Icons
- Five icons: Acapella, Drums, Bass, Melody, Instrumental.
- Must appear top-right consistently.
4. Branding Uniformity
- Branding logic must work identically for all channels.
SECTION 3 — STEM MAPPING, BPM/KEY LOGIC, HY-PHEN NAMING
PROBLEMS:
- Bass/Melody/Instrumental missing BPM and Key.
- Naming inconsistent.
- Hyphens missing or placed incorrectly.
SOLUTIONS REQUIRED:
1. BPM/Key Rules
- Drums: BPM only.
- All other stems: BPM + Key.
2. Naming Format (Mandatory)
Artist – Song – StemType – BPM – Key
3. Mapping Logic
- Correct icon + BPM/Key + naming must sync to YouTube + backend.
4. Hyphen Enforcement
- Auto-correct names to ensure consistent formatting.
SECTION 4 — PERFORMANCE OPTIMIZATION (FAST MODE + ENHANCED MODE)
The July 2025 app sets the speed baseline.
MANDATORY RULE:
Loudness regulation (loudnorm) must remain ALWAYS ON in both modes.
PIPELINE SPLIT:
FAST MODE (DEFAULT):
Triggered when Upload = OFF
Must resemble July 2025 extraction:
- Download → Demucs → Save
FAST MODE MUST SKIP:
- ffmpeg preprocessing (except loudnorm)
- WAV intermediates
- MoviePy
- Branding
- Thumbnail generation
- Sleep/jitter
- Redundant validation
ENHANCED MODE (Upload = ON):
- Allows MoviePy, branding, icons, thumbnails.
- Full metadata + playlist logic.
- Multi-thread uploads.
- Asset caching to avoid reloading.
ESTIMATED SPEED SAVINGS:
- Remove preprocessing (except loudnorm): 4–8 sec saved per track
- Remove intermediate WAV I/O: 2–4 sec saved
- Remove sleep/jitter: 10–15 sec saved
- Reduce validation: 2–3 sec saved
- Asset caching: 3–6 sec saved per upload
- Multi-thread uploads: 50–70% faster overall
Expected final performance:
FAST MODE: ~10 tracks in ~2 minutes.
SECTION 5 — DEFAULT UPLOAD LOGIC & STEM TOGGLE FIX
PROBLEMS:
- Upload default OFF is inefficient.
- Stem toggle requires two steps.
SOLUTIONS REQUIRED:
1. Upload must default to ON.
2. Remove top toggle.
3. Selecting a stem = automatically activates it.
4. Simplify UX and reduce user error.
SECTION 6 — TUNEBAT FALLBACK & METADATA RELIABILITY
PROBLEMS:
- Tunebat occasionally fails (captcha, timeout).
- No fallback system exists.
SOLUTIONS REQUIRED:
1. Automatic Retry Logic
- Retry 2–3 times on failure.
2. Session Refresh Logic
- Reset request session on captcha or bad response.
3. Fallback Metadata Pull
- Secondary API or cached failover.
4. Failure Logging
- Developer must be able to diagnose failures.
Goal: 100% BPM + Key accuracy across all stems.
SECTION 7 — IMPLEMENTATION PRIORITY LIST
Order of development:
1. Audio fetch accuracy
2. Branding fixes
3. Stem mapping + BPM/Key
4. Hyphen enforcement
5. Fast Mode / Enhanced Mode architecture
6. Speed optimization
7. Tunebat fallback
